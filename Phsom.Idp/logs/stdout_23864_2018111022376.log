info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[0]
      User profile is available. Using 'C:\Users\rudyj\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [__EFMigrationsHistory] (
          [MigrationId] nvarchar(150) NOT NULL,
          [ProductVersion] nvarchar(32) NOT NULL,
          CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: Microsoft.EntityFrameworkCore.Migrations[20402]
      Applying migration '20181110223504_InitialIdentityServerPersistedGrantDbMigration'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [PersistedGrants] (
          [Key] nvarchar(200) NOT NULL,
          [Type] nvarchar(50) NOT NULL,
          [SubjectId] nvarchar(200) NULL,
          [ClientId] nvarchar(200) NOT NULL,
          [CreationTime] datetime2 NOT NULL,
          [Expiration] datetime2 NULL,
          [Data] nvarchar(max) NOT NULL,
          CONSTRAINT [PK_PersistedGrants] PRIMARY KEY ([Key])
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_PersistedGrants_SubjectId_ClientId_Type] ON [PersistedGrants] ([SubjectId], [ClientId], [Type]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
      VALUES (N'20181110223504_InitialIdentityServerPersistedGrantDbMigration', N'2.1.4-rtm-31024');
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [MigrationId], [ProductVersion]
      FROM [__EFMigrationsHistory]
      ORDER BY [MigrationId];
info: Microsoft.EntityFrameworkCore.Migrations[20402]
      Applying migration '20181110223540_InitialIdentityServerConfigurationDbMigration'.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ApiResources] (
          [Id] int NOT NULL IDENTITY,
          [Enabled] bit NOT NULL,
          [Name] nvarchar(200) NOT NULL,
          [DisplayName] nvarchar(200) NULL,
          [Description] nvarchar(1000) NULL,
          CONSTRAINT [PK_ApiResources] PRIMARY KEY ([Id])
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [Clients] (
          [Id] int NOT NULL IDENTITY,
          [Enabled] bit NOT NULL,
          [ClientId] nvarchar(200) NOT NULL,
          [ProtocolType] nvarchar(200) NOT NULL,
          [RequireClientSecret] bit NOT NULL,
          [ClientName] nvarchar(200) NULL,
          [Description] nvarchar(1000) NULL,
          [ClientUri] nvarchar(2000) NULL,
          [LogoUri] nvarchar(2000) NULL,
          [RequireConsent] bit NOT NULL,
          [AllowRememberConsent] bit NOT NULL,
          [AlwaysIncludeUserClaimsInIdToken] bit NOT NULL,
          [RequirePkce] bit NOT NULL,
          [AllowPlainTextPkce] bit NOT NULL,
          [AllowAccessTokensViaBrowser] bit NOT NULL,
          [FrontChannelLogoutUri] nvarchar(2000) NULL,
          [FrontChannelLogoutSessionRequired] bit NOT NULL,
          [BackChannelLogoutUri] nvarchar(2000) NULL,
          [BackChannelLogoutSessionRequired] bit NOT NULL,
          [AllowOfflineAccess] bit NOT NULL,
          [IdentityTokenLifetime] int NOT NULL,
          [AccessTokenLifetime] int NOT NULL,
          [AuthorizationCodeLifetime] int NOT NULL,
          [ConsentLifetime] int NULL,
          [AbsoluteRefreshTokenLifetime] int NOT NULL,
          [SlidingRefreshTokenLifetime] int NOT NULL,
          [RefreshTokenUsage] int NOT NULL,
          [UpdateAccessTokenClaimsOnRefresh] bit NOT NULL,
          [RefreshTokenExpiration] int NOT NULL,
          [AccessTokenType] int NOT NULL,
          [EnableLocalLogin] bit NOT NULL,
          [IncludeJwtId] bit NOT NULL,
          [AlwaysSendClientClaims] bit NOT NULL,
          [ClientClaimsPrefix] nvarchar(200) NULL,
          [PairWiseSubjectSalt] nvarchar(200) NULL,
          CONSTRAINT [PK_Clients] PRIMARY KEY ([Id])
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [IdentityResources] (
          [Id] int NOT NULL IDENTITY,
          [Enabled] bit NOT NULL,
          [Name] nvarchar(200) NOT NULL,
          [DisplayName] nvarchar(200) NULL,
          [Description] nvarchar(1000) NULL,
          [Required] bit NOT NULL,
          [Emphasize] bit NOT NULL,
          [ShowInDiscoveryDocument] bit NOT NULL,
          CONSTRAINT [PK_IdentityResources] PRIMARY KEY ([Id])
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ApiClaims] (
          [Id] int NOT NULL IDENTITY,
          [Type] nvarchar(200) NOT NULL,
          [ApiResourceId] int NOT NULL,
          CONSTRAINT [PK_ApiClaims] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ApiClaims_ApiResources_ApiResourceId] FOREIGN KEY ([ApiResourceId]) REFERENCES [ApiResources] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ApiScopes] (
          [Id] int NOT NULL IDENTITY,
          [Name] nvarchar(200) NOT NULL,
          [DisplayName] nvarchar(200) NULL,
          [Description] nvarchar(1000) NULL,
          [Required] bit NOT NULL,
          [Emphasize] bit NOT NULL,
          [ShowInDiscoveryDocument] bit NOT NULL,
          [ApiResourceId] int NOT NULL,
          CONSTRAINT [PK_ApiScopes] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ApiScopes_ApiResources_ApiResourceId] FOREIGN KEY ([ApiResourceId]) REFERENCES [ApiResources] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ApiSecrets] (
          [Id] int NOT NULL IDENTITY,
          [Description] nvarchar(1000) NULL,
          [Value] nvarchar(2000) NULL,
          [Expiration] datetime2 NULL,
          [Type] nvarchar(250) NULL,
          [ApiResourceId] int NOT NULL,
          CONSTRAINT [PK_ApiSecrets] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ApiSecrets_ApiResources_ApiResourceId] FOREIGN KEY ([ApiResourceId]) REFERENCES [ApiResources] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientClaims] (
          [Id] int NOT NULL IDENTITY,
          [Type] nvarchar(250) NOT NULL,
          [Value] nvarchar(250) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientClaims] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientClaims_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientCorsOrigins] (
          [Id] int NOT NULL IDENTITY,
          [Origin] nvarchar(150) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientCorsOrigins] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientCorsOrigins_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientGrantTypes] (
          [Id] int NOT NULL IDENTITY,
          [GrantType] nvarchar(250) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientGrantTypes] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientGrantTypes_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientIdPRestrictions] (
          [Id] int NOT NULL IDENTITY,
          [Provider] nvarchar(200) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientIdPRestrictions] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientIdPRestrictions_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientPostLogoutRedirectUris] (
          [Id] int NOT NULL IDENTITY,
          [PostLogoutRedirectUri] nvarchar(2000) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientPostLogoutRedirectUris] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientPostLogoutRedirectUris_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientProperties] (
          [Id] int NOT NULL IDENTITY,
          [Key] nvarchar(250) NOT NULL,
          [Value] nvarchar(2000) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientProperties] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientProperties_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientRedirectUris] (
          [Id] int NOT NULL IDENTITY,
          [RedirectUri] nvarchar(2000) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientRedirectUris] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientRedirectUris_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientScopes] (
          [Id] int NOT NULL IDENTITY,
          [Scope] nvarchar(200) NOT NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientScopes] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientScopes_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ClientSecrets] (
          [Id] int NOT NULL IDENTITY,
          [Description] nvarchar(2000) NULL,
          [Value] nvarchar(2000) NOT NULL,
          [Expiration] datetime2 NULL,
          [Type] nvarchar(250) NULL,
          [ClientId] int NOT NULL,
          CONSTRAINT [PK_ClientSecrets] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ClientSecrets_Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [Clients] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [IdentityClaims] (
          [Id] int NOT NULL IDENTITY,
          [Type] nvarchar(200) NOT NULL,
          [IdentityResourceId] int NOT NULL,
          CONSTRAINT [PK_IdentityClaims] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_IdentityClaims_IdentityResources_IdentityResourceId] FOREIGN KEY ([IdentityResourceId]) REFERENCES [IdentityResources] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE TABLE [ApiScopeClaims] (
          [Id] int NOT NULL IDENTITY,
          [Type] nvarchar(200) NOT NULL,
          [ApiScopeId] int NOT NULL,
          CONSTRAINT [PK_ApiScopeClaims] PRIMARY KEY ([Id]),
          CONSTRAINT [FK_ApiScopeClaims_ApiScopes_ApiScopeId] FOREIGN KEY ([ApiScopeId]) REFERENCES [ApiScopes] ([Id]) ON DELETE CASCADE
      );
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ApiClaims_ApiResourceId] ON [ApiClaims] ([ApiResourceId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE UNIQUE INDEX [IX_ApiResources_Name] ON [ApiResources] ([Name]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ApiScopeClaims_ApiScopeId] ON [ApiScopeClaims] ([ApiScopeId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ApiScopes_ApiResourceId] ON [ApiScopes] ([ApiResourceId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE UNIQUE INDEX [IX_ApiScopes_Name] ON [ApiScopes] ([Name]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ApiSecrets_ApiResourceId] ON [ApiSecrets] ([ApiResourceId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientClaims_ClientId] ON [ClientClaims] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientCorsOrigins_ClientId] ON [ClientCorsOrigins] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientGrantTypes_ClientId] ON [ClientGrantTypes] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientIdPRestrictions_ClientId] ON [ClientIdPRestrictions] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientPostLogoutRedirectUris_ClientId] ON [ClientPostLogoutRedirectUris] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientProperties_ClientId] ON [ClientProperties] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientRedirectUris_ClientId] ON [ClientRedirectUris] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE UNIQUE INDEX [IX_Clients_ClientId] ON [Clients] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientScopes_ClientId] ON [ClientScopes] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_ClientSecrets_ClientId] ON [ClientSecrets] ([ClientId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE INDEX [IX_IdentityClaims_IdentityResourceId] ON [IdentityClaims] ([IdentityResourceId]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      CREATE UNIQUE INDEX [IX_IdentityResources_Name] ON [IdentityResources] ([Name]);
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
      VALUES (N'20181110223540_InitialIdentityServerConfigurationDbMigration', N'2.1.4-rtm-31024');
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [c].[Id], [c].[AbsoluteRefreshTokenLifetime], [c].[AccessTokenLifetime], [c].[AccessTokenType], [c].[AllowAccessTokensViaBrowser], [c].[AllowOfflineAccess], [c].[AllowPlainTextPkce], [c].[AllowRememberConsent], [c].[AlwaysIncludeUserClaimsInIdToken], [c].[AlwaysSendClientClaims], [c].[AuthorizationCodeLifetime], [c].[BackChannelLogoutSessionRequired], [c].[BackChannelLogoutUri], [c].[ClientClaimsPrefix], [c].[ClientId], [c].[ClientName], [c].[ClientUri], [c].[ConsentLifetime], [c].[Description], [c].[EnableLocalLogin], [c].[Enabled], [c].[FrontChannelLogoutSessionRequired], [c].[FrontChannelLogoutUri], [c].[IdentityTokenLifetime], [c].[IncludeJwtId], [c].[LogoUri], [c].[PairWiseSubjectSalt], [c].[ProtocolType], [c].[RefreshTokenExpiration], [c].[RefreshTokenUsage], [c].[RequireClientSecret], [c].[RequireConsent], [c].[RequirePkce], [c].[SlidingRefreshTokenLifetime], [c].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [c]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2000), @p12='?' (Size = 200), @p13='?' (Size = 200), @p14='?' (Size = 200), @p15='?' (Size = 2000), @p16='?' (DbType = Int32), @p17='?' (Size = 1000), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 2000), @p22='?' (DbType = Int32), @p23='?' (DbType = Boolean), @p24='?' (Size = 2000), @p25='?' (Size = 200), @p26='?' (Size = 200), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (DbType = Boolean), @p30='?' (DbType = Boolean), @p31='?' (DbType = Boolean), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [Clients] ([AbsoluteRefreshTokenLifetime], [AccessTokenLifetime], [AccessTokenType], [AllowAccessTokensViaBrowser], [AllowOfflineAccess], [AllowPlainTextPkce], [AllowRememberConsent], [AlwaysIncludeUserClaimsInIdToken], [AlwaysSendClientClaims], [AuthorizationCodeLifetime], [BackChannelLogoutSessionRequired], [BackChannelLogoutUri], [ClientClaimsPrefix], [ClientId], [ClientName], [ClientUri], [ConsentLifetime], [Description], [EnableLocalLogin], [Enabled], [FrontChannelLogoutSessionRequired], [FrontChannelLogoutUri], [IdentityTokenLifetime], [IncludeJwtId], [LogoUri], [PairWiseSubjectSalt], [ProtocolType], [RefreshTokenExpiration], [RefreshTokenUsage], [RequireClientSecret], [RequireConsent], [RequirePkce], [SlidingRefreshTokenLifetime], [UpdateAccessTokenClaimsOnRefresh])
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33);
      SELECT [Id]
      FROM [Clients]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (15ms) [Parameters=[@p34='?' (DbType = Int32), @p35='?' (Size = 250), @p36='?' (DbType = Int32), @p37='?' (Size = 2000), @p38='?' (DbType = Int32), @p39='?' (Size = 2000), @p40='?' (DbType = Int32), @p41='?' (Size = 200), @p42='?' (DbType = Int32), @p43='?' (Size = 200), @p44='?' (DbType = Int32), @p45='?' (Size = 200), @p46='?' (DbType = Int32), @p47='?' (Size = 200), @p48='?' (DbType = Int32), @p49='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ClientGrantTypes] ([ClientId], [GrantType])
      VALUES (@p34, @p35);
      SELECT [Id]
      FROM [ClientGrantTypes]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
      
      INSERT INTO [ClientPostLogoutRedirectUris] ([ClientId], [PostLogoutRedirectUri])
      VALUES (@p36, @p37);
      SELECT [Id]
      FROM [ClientPostLogoutRedirectUris]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
      
      INSERT INTO [ClientRedirectUris] ([ClientId], [RedirectUri])
      VALUES (@p38, @p39);
      SELECT [Id]
      FROM [ClientRedirectUris]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
      
      DECLARE @inserted3 TABLE ([Id] int, [_Position] [int]);
      MERGE [ClientScopes] USING (
      VALUES (@p40, @p41, 0),
      (@p42, @p43, 1),
      (@p44, @p45, 2),
      (@p46, @p47, 3),
      (@p48, @p49, 4)) AS i ([ClientId], [Scope], _Position) ON 1=0
      WHEN NOT MATCHED THEN
      INSERT ([ClientId], [Scope])
      VALUES (i.[ClientId], i.[Scope])
      OUTPUT INSERTED.[Id], i._Position
      INTO @inserted3;
      
      SELECT [t].[Id] FROM [ClientScopes] t
      INNER JOIN @inserted3 i ON ([t].[Id] = [i].[Id])
      ORDER BY [i].[_Position];
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [i].[Id], [i].[Description], [i].[DisplayName], [i].[Emphasize], [i].[Enabled], [i].[Name], [i].[Required], [i].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [i]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 200), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (Size = 1000), @p8='?' (Size = 200), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 200), @p12='?' (DbType = Boolean), @p13='?' (DbType = Boolean), @p14='?' (Size = 1000), @p15='?' (Size = 200), @p16='?' (DbType = Boolean), @p17='?' (DbType = Boolean), @p18='?' (Size = 200), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 1000), @p22='?' (Size = 200), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (Size = 200), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
      MERGE [IdentityResources] USING (
      VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
      (@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
      (@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
      (@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3)) AS i ([Description], [DisplayName], [Emphasize], [Enabled], [Name], [Required], [ShowInDiscoveryDocument], _Position) ON 1=0
      WHEN NOT MATCHED THEN
      INSERT ([Description], [DisplayName], [Emphasize], [Enabled], [Name], [Required], [ShowInDiscoveryDocument])
      VALUES (i.[Description], i.[DisplayName], i.[Emphasize], i.[Enabled], i.[Name], i.[Required], i.[ShowInDiscoveryDocument])
      OUTPUT INSERTED.[Id], i._Position
      INTO @inserted0;
      
      SELECT [t].[Id] FROM [IdentityResources] t
      INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
      ORDER BY [i].[_Position];
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (12ms) [Parameters=[@p28='?' (DbType = Int32), @p29='?' (Size = 200), @p30='?' (DbType = Int32), @p31='?' (Size = 200), @p32='?' (DbType = Int32), @p33='?' (Size = 200), @p34='?' (DbType = Int32), @p35='?' (Size = 200), @p36='?' (DbType = Int32), @p37='?' (Size = 200), @p38='?' (DbType = Int32), @p39='?' (Size = 200), @p40='?' (DbType = Int32), @p41='?' (Size = 200), @p42='?' (DbType = Int32), @p43='?' (Size = 200), @p44='?' (DbType = Int32), @p45='?' (Size = 200), @p46='?' (DbType = Int32), @p47='?' (Size = 200), @p48='?' (DbType = Int32), @p49='?' (Size = 200), @p50='?' (DbType = Int32), @p51='?' (Size = 200), @p52='?' (DbType = Int32), @p53='?' (Size = 200), @p54='?' (DbType = Int32), @p55='?' (Size = 200), @p56='?' (DbType = Int32), @p57='?' (Size = 200), @p58='?' (DbType = Int32), @p59='?' (Size = 200), @p60='?' (DbType = Int32), @p61='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      DECLARE @inserted0 TABLE ([Id] int, [_Position] [int]);
      MERGE [IdentityClaims] USING (
      VALUES (@p28, @p29, 0),
      (@p30, @p31, 1),
      (@p32, @p33, 2),
      (@p34, @p35, 3),
      (@p36, @p37, 4),
      (@p38, @p39, 5),
      (@p40, @p41, 6),
      (@p42, @p43, 7),
      (@p44, @p45, 8),
      (@p46, @p47, 9),
      (@p48, @p49, 10),
      (@p50, @p51, 11),
      (@p52, @p53, 12),
      (@p54, @p55, 13),
      (@p56, @p57, 14),
      (@p58, @p59, 15),
      (@p60, @p61, 16)) AS i ([IdentityResourceId], [Type], _Position) ON 1=0
      WHEN NOT MATCHED THEN
      INSERT ([IdentityResourceId], [Type])
      VALUES (i.[IdentityResourceId], i.[Type])
      OUTPUT INSERTED.[Id], i._Position
      INTO @inserted0;
      
      SELECT [t].[Id] FROM [IdentityClaims] t
      INNER JOIN @inserted0 i ON ([t].[Id] = [i].[Id])
      ORDER BY [i].[_Position];
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [a].[Id], [a].[Description], [a].[DisplayName], [a].[Enabled], [a].[Name]
      FROM [ApiResources] AS [a]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 1000), @p1='?' (Size = 200), @p2='?' (DbType = Boolean), @p3='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ApiResources] ([Description], [DisplayName], [Enabled], [Name])
      VALUES (@p0, @p1, @p2, @p3);
      SELECT [Id]
      FROM [ApiResources]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@p4='?' (DbType = Int32), @p5='?' (Size = 1000), @p6='?' (Size = 200), @p7='?' (DbType = Boolean), @p8='?' (Size = 200), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean)], CommandType='Text', CommandTimeout='30']
      SET NOCOUNT ON;
      INSERT INTO [ApiScopes] ([ApiResourceId], [Description], [DisplayName], [Emphasize], [Name], [Required], [ShowInDiscoveryDocument])
      VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10);
      SELECT [Id]
      FROM [ApiScopes]
      WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
Hosting environment: Development
Content root path: D:\Phsom\phsom-identity-server\Phsom.Idp
Now listening on: http://127.0.0.1:31143
Application started. Press Ctrl+C to shut down.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/  
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Index", controller = "Home"}. Executing action IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Index", controller = "Home"}. Executing action IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp) - Validation state: Valid
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp) - Validation state: Valid
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.4628ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 0.4628ms.
infoinfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Index.
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Index.
infoinfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Index executed in 97.4838ms.
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Index executed in 97.4838ms.
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp) in 122.4082ms
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.HomeController.Index (Phsom.Idp) in 122.4082ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 313.4766ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 313.4766ms 200 text/html; charset=utf-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/css/site.css  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/css/site.css  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/css/bootstrap.css  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/css/bootstrap.css  
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.png  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.png  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/jquery/jquery.js  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/jquery/jquery.js  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.jpg  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.jpg  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/js/bootstrap.js  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/js/bootstrap.js  
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.jpg'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.jpg'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.jpg'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.jpg'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/jquery/jquery.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\jquery\jquery.js'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/js/bootstrap.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\js\bootstrap.js'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 67.9838ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 67.86ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 57.5947ms 200 image/jpeg
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 62.9102ms 200 application/javascript
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 63.796ms 200 image/png
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 57.9325ms 200 application/javascript
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/jquery/jquery.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\jquery\jquery.js'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/js/bootstrap.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\js\bootstrap.js'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 67.9838ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 67.86ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 57.5947ms 200 image/jpeg
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 62.9102ms 200 application/javascript
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 63.796ms 200 image/png
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 57.9325ms 200 application/javascript
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
infoinfo: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warnwarn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 233.7035ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 233.7035ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
infoinfo: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 325.0962ms 302 
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 325.0962ms 302 
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 31.4602ms.
infoinfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 66.6191ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 116.2166ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 136.36ms 200 text/html; charset=utf-8
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 31.4602ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 66.6191ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 116.2166ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 136.36ms 200 text/html; charset=utf-8
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f application/x-www-form-urlencoded 546
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f application/x-www-form-urlencoded 546
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 27.4834ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 27.4834ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 5.729ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 59.9376ms
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 5.729ms.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.7855ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 59.9376ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.7855ms 200 text/html; charset=utf-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f application/x-www-form-urlencoded 546
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f application/x-www-form-urlencoded 546
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 45.1099ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 45.1099ms.
info: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]
      Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f.
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 46.8282ms
: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]
      Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 47.2847ms 302 
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 46.8282ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 47.2847ms 302 
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "SessionId": "6ffd54eb9504f7f6c18064351a96cc13",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "SessionId": "6ffd54eb9504f7f6c18064351a96cc13",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "46132b19dee045b29b51977092f4229d",
        "Scope": "openid profile roles"
      }
info: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "46132b19dee045b29b51977092f4229d",
        "Scope": "openid profile roles"
      }
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 157.7801ms 302 
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 157.7801ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 16.5791ms 200 application/json; charset=UTF-8
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 16.5791ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 18.2454ms 200 application/json; charset=UTF-8
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 18.2454ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 6.9141ms 200 text/html; charset=UTF-8
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 6.9141ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 11.9239ms 200 application/json; charset=UTF-8
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 11.9239ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.8799ms 200 text/html; charset=UTF-8
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.8799ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (9ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "18090031dc5446538dcb12836806365b",
        "Nonce": "19c919d2e96742da8f3e043c46f167c6",
        "SessionId": "6ffd54eb9504f7f6c18064351a96cc13",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "18090031dc5446538dcb12836806365b",
          "nonce": "19c919d2e96742da8f3e043c46f167c6"
        }
      }
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "18090031dc5446538dcb12836806365b",
        "Scope": "openid profile roles"
      }
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 36.8665ms 302 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "18090031dc5446538dcb12836806365b",
        "Nonce": "19c919d2e96742da8f3e043c46f167c6",
        "SessionId": "6ffd54eb9504f7f6c18064351a96cc13",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "18090031dc5446538dcb12836806365b",
          "nonce": "19c919d2e96742da8f3e043c46f167c6"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "18090031dc5446538dcb12836806365b",
        "Scope": "openid profile roles"
      }
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 36.8665ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 10.4169ms 200 application/json; charset=UTF-8
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 10.4169ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.5786ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.5786ms 200 text/html; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 2.2689ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 2.2689ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
infoinfo: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 18.7567ms 302 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "46132b19dee045b29b51977092f4229d",
        "Nonce": "d62492f9f4e34dc6a7cda5a806eabc2f",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "46132b19dee045b29b51977092f4229d",
          "nonce": "d62492f9f4e34dc6a7cda5a806eabc2f"
        }
      }
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 18.7567ms 302 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D46132b19dee045b29b51977092f4229d%26nonce%3Dd62492f9f4e34dc6a7cda5a806eabc2f  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=46132b19dee045b29b51977092f4229d&nonce=d62492f9f4e34dc6a7cda5a806eabc2f) - Validation state: Valid
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 26.4799ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.3575ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 28.4401ms
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 26.4799ms.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 28.8175ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.3575ms.
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 28.4401ms
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 28.8175ms 200 text/html; charset=utf-8
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 14.6082ms.
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.1182ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 16.1214ms
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 16.522ms 200 text/html; charset=utf-8
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 14.6082ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.1182ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 16.1214ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 16.522ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "18090031dc5446538dcb12836806365b",
        "Nonce": "19c919d2e96742da8f3e043c46f167c6",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "18090031dc5446538dcb12836806365b",
          "nonce": "19c919d2e96742da8f3e043c46f167c6"
        }
      }
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 19.1968ms 302 
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D18090031dc5446538dcb12836806365b%26nonce%3D19c919d2e96742da8f3e043c46f167c6  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6) - Validation state: Valid
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "18090031dc5446538dcb12836806365b",
        "Nonce": "19c919d2e96742da8f3e043c46f167c6",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "18090031dc5446538dcb12836806365b",
          "nonce": "19c919d2e96742da8f3e043c46f167c6"
        }
      }
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 19.1968ms 302 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3D18090031dc5446538dcb12836806365b%26nonce%3D19c919d2e96742da8f3e043c46f167c6  
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=18090031dc5446538dcb12836806365b&nonce=19c919d2e96742da8f3e043c46f167c6) - Validation state: Valid
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.2199ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.2282ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 19.9446ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 20.3865ms 200 text/html; charset=utf-8
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 18.2199ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.2282ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 19.9446ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 20.3865ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 10.9511ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 10.9511ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.1527ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.1527ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b  
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Nonce": "b54a967ccaed444abc0507ffdeadeb0b",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "b7ee1f28db6b495a9b3d882004bd0344",
          "nonce": "b54a967ccaed444abc0507ffdeadeb0b"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Nonce": "b54a967ccaed444abc0507ffdeadeb0b",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "b7ee1f28db6b495a9b3d882004bd0344",
          "nonce": "b54a967ccaed444abc0507ffdeadeb0b"
        }
      }
info: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 14.4299ms 302 
: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3Db7ee1f28db6b495a9b3d882004bd0344%26nonce%3Db54a967ccaed444abc0507ffdeadeb0b  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 14.4299ms 302 
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3Db7ee1f28db6b495a9b3d882004bd0344%26nonce%3Db54a967ccaed444abc0507ffdeadeb0b  
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b) - Validation state: Valid
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b) - Validation state: Valid
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 12.9248ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.1169ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 14.4335ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 15.1764ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/css/site.css  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/css/bootstrap.css  
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.8053ms 200 text/css
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 12.9248ms.
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.png  
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
infoinfo: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 1.1169ms.
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 14.4335ms
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 15.1764ms 200 text/html; charset=utf-8
: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/css/site.css  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.6211ms 200 image/png
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/lib/bootstrap/css/bootstrap.css  
: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 8.7013ms 200 text/css
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.8053ms 200 text/css
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/icon.png  
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1.6211ms 200 image/png
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 8.7013ms 200 text/css
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
infoinfo: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3Db7ee1f28db6b495a9b3d882004bd0344%26nonce%3Db54a967ccaed444abc0507ffdeadeb0b application/x-www-form-urlencoded 546
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:44352/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4200%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%26state%3Db7ee1f28db6b495a9b3d882004bd0344%26nonce%3Db54a967ccaed444abc0507ffdeadeb0b application/x-www-form-urlencoded 546
infoinfo: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[7]
      idsrv was not authenticated. Failure message: Unprotect ticket failed
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 13.6081ms.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]
      Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 14.5335ms
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 15.5586ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b  
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 13.6081ms.
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]
      Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 14.5335ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 15.5586ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4200%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles&state=b7ee1f28db6b495a9b3d882004bd0344&nonce=b54a967ccaed444abc0507ffdeadeb0b  
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
infoinfo: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Nonce": "b54a967ccaed444abc0507ffdeadeb0b",
        "SessionId": "b5788ccd4e43ca7fe8fbc6c275d48ea8",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "b7ee1f28db6b495a9b3d882004bd0344",
          "nonce": "b54a967ccaed444abc0507ffdeadeb0b"
        }
      }
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Scope": "openid profile roles"
      }
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles')
      ORDER BY [identityResource].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 14.361ms 302 
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4200/signin-oidc"
        ],
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Nonce": "b54a967ccaed444abc0507ffdeadeb0b",
        "SessionId": "b5788ccd4e43ca7fe8fbc6c275d48ea8",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4200/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles",
          "state": "b7ee1f28db6b495a9b3d882004bd0344",
          "nonce": "b54a967ccaed444abc0507ffdeadeb0b"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint[0]
      Authorize endpoint response
      {
        "SubjectId": "2D86D4D9-4A07-4745-8B51-CF5A930B891E",
        "ClientId": "phsom-web-client",
        "RedirectUri": "https://localhost:4200/signin-oidc",
        "State": "b7ee1f28db6b495a9b3d882004bd0344",
        "Scope": "openid profile roles"
      }
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: idsrv signed in.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 14.361ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 6.476ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 6.476ms 200 application/json; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/connect/checksession  
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.5661ms 200 text/html; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 0.5661ms 200 text/html; charset=UTF-8
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:44352/.well-known/openid-configuration/jwks  
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
infowarn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4200
info: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 2.8189ms 200 application/json; charset=UTF-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 2.8189ms 200 application/json; charset=UTF-8
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
infoinfo: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
      FROM [PersistedGrants] AS [x]
      WHERE [x].[Expiration] < GETUTCDATE()
      ORDER BY [x].[Key]
infoinfo: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens
: IdentityServer4.EntityFramework.TokenCleanup[0]
      Clearing 0 tokens



































































