info: Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager[0]
      User profile not available. Using 'HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\ASP.NET\4.0.30319.0\AutoGenKeys\S-1-5-82-4072816495-3766969652-3184993898-1520276354-1761507288\DataProtection' as key repository and Windows DPAPI to encrypt keys at rest.
Hosting environment: Development
Content root path: D:\Phsom\phsom-identity-server\Phsom.Idp
Now listening on: http://127.0.0.1:30403
Application started. Press Ctrl+C to shut down.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/.well-known/openid-configuration  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/.well-known/openid-configuration  
infoinfo: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Origin]
      FROM [Clients] AS [x]
      INNER JOIN [ClientCorsOrigins] AS [x.AllowedCorsOrigins] ON [x].[Id] = [x.AllowedCorsOrigins].[ClientId]
warnwarn: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4201
: IdentityServer4.Hosting.CorsPolicyProvider[0]
      CorsPolicyService did not allow origin: https://localhost:4201
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Emphasize], [x].[Enabled], [x].[Name], [x].[Required], [x].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [x]
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[IdentityResourceId], [x.UserClaims].[Type]
      FROM [IdentityClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [IdentityResources] AS [x0]
      ) AS [t] ON [x.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x].[Id], [x].[Description], [x].[DisplayName], [x].[Enabled], [x].[Name]
      FROM [ApiResources] AS [x]
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Secrets].[Id], [x.Secrets].[ApiResourceId], [x.Secrets].[Description], [x.Secrets].[Expiration], [x.Secrets].[Type], [x.Secrets].[Value]
      FROM [ApiSecrets] AS [x.Secrets]
      INNER JOIN (
          SELECT [x0].[Id]
          FROM [ApiResources] AS [x0]
      ) AS [t] ON [x.Secrets].[ApiResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes].[Id], [x.Scopes].[ApiResourceId], [x.Scopes].[Description], [x.Scopes].[DisplayName], [x.Scopes].[Emphasize], [x.Scopes].[Name], [x.Scopes].[Required], [x.Scopes].[ShowInDiscoveryDocument]
      FROM [ApiScopes] AS [x.Scopes]
      INNER JOIN (
          SELECT [x1].[Id]
          FROM [ApiResources] AS [x1]
      ) AS [t0] ON [x.Scopes].[ApiResourceId] = [t0].[Id]
      ORDER BY [t0].[Id], [x.Scopes].[Id]
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1091.3363ms 200 application/json; charset=UTF-8
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.Scopes.UserClaims].[Id], [x.Scopes.UserClaims].[ApiScopeId], [x.Scopes.UserClaims].[Type]
      FROM [ApiScopeClaims] AS [x.Scopes.UserClaims]
      INNER JOIN (
          SELECT DISTINCT [x.Scopes0].[Id], [t1].[Id] AS [Id0]
          FROM [ApiScopes] AS [x.Scopes0]
          INNER JOIN (
              SELECT [x2].[Id]
              FROM [ApiResources] AS [x2]
          ) AS [t1] ON [x.Scopes0].[ApiResourceId] = [t1].[Id]
      ) AS [t2] ON [x.Scopes.UserClaims].[ApiScopeId] = [t2].[Id]
      ORDER BY [t2].[Id0], [t2].[Id]
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb  
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [x.UserClaims].[Id], [x.UserClaims].[ApiResourceId], [x.UserClaims].[Type]
      FROM [ApiClaims] AS [x.UserClaims]
      INNER JOIN (
          SELECT [x3].[Id]
          FROM [ApiResources] AS [x3]
      ) AS [t3] ON [x.UserClaims].[ApiResourceId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 1091.3363ms 200 application/json; charset=UTF-8
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/connect/authorize?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb  
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (4ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (2ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4201/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4201/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles address",
        "State": "3d2d009375eb4f0d92b2d9124aed8659",
        "Nonce": "89e6076b98d74b97bb1b9ed466b34ecb",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4201/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles address",
          "state": "3d2d009375eb4f0d92b2d9124aed8659",
          "nonce": "89e6076b98d74b97bb1b9ed466b34ecb"
        }
      }
info: IdentityServer4.Endpoints.AuthorizeEndpoint[0]
      ValidatedAuthorizeRequest
      {
        "ClientId": "phsom-web-client",
        "ClientName": "phsom-web-client",
        "RedirectUri": "https://localhost:4201/signin-oidc",
        "AllowedRedirectUris": [
          "https://localhost:4201/signin-oidc"
        ],
        "SubjectId": "anonymous",
        "ResponseType": "id_token",
        "ResponseMode": "fragment",
        "GrantType": "implicit",
        "RequestedScopes": "openid profile roles address",
        "State": "3d2d009375eb4f0d92b2d9124aed8659",
        "Nonce": "89e6076b98d74b97bb1b9ed466b34ecb",
        "Raw": {
          "client_id": "phsom-web-client",
          "redirect_uri": "https://localhost:4201/signin-oidc",
          "response_type": "id_token",
          "scope": "openid profile roles address",
          "state": "3d2d009375eb4f0d92b2d9124aed8659",
          "nonce": "89e6076b98d74b97bb1b9ed466b34ecb"
        }
      }
info: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator[0]
      Showing login: User is not authenticated
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 572.187ms 302 
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 572.187ms 302 
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/account/login?returnUrl=%2Fidp%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4201%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%2520address%26state%3D3d2d009375eb4f0d92b2d9124aed8659%26nonce%3D89e6076b98d74b97bb1b9ed466b34ecb  
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/account/login?returnUrl=%2Fidp%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4201%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%2520address%26state%3D3d2d009375eb4f0d92b2d9124aed8659%26nonce%3D89e6076b98d74b97bb1b9ed466b34ecb  
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/idp/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb) - Validation state: Valid
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (/idp/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb) - Validation state: Valid
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 47.688ms.
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.ViewResult in 47.688ms.
: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[1]
      Executing ViewResult, running view Login.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 233.1666ms.
info: Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor[4]
      Executed ViewResult - view Login executed in 233.1666ms.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 333.8715ms
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 333.8715ms
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 633.8765ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 633.8765ms 200 text/html; charset=utf-8
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/css/bootstrap.css  
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/css/bootstrap.css  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/css/site.css  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/jquery/jquery.js  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/css/site.css  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/icon.png  
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/jquery/jquery.js  
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/icon.png  
infoinfo: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/css/site.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\css\site.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/jquery/jquery.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\jquery\jquery.js'
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/icon.png'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\icon.png'
infoinfo: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/jquery/jquery.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\jquery\jquery.js'
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 71.4769ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 71.4769ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.6209ms 200 application/javascript
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.6209ms 200 application/javascript
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.007ms 200 image/png
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 69.007ms 200 image/png
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 75.8572ms 200 text/css
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 75.8572ms 200 text/css
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/js/bootstrap.js  
infoinfo: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/js/bootstrap.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\js\bootstrap.js'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 23.9729ms 200 application/javascript
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/css/bootstrap.css.map  
: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/js/bootstrap.js  
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css.map'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css.map'
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 7.8752ms 200 text/plain
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:447/idp/account/login?returnUrl=%2Fidp%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4201%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%2520address%26state%3D3d2d009375eb4f0d92b2d9124aed8659%26nonce%3D89e6076b98d74b97bb1b9ed466b34ecb application/x-www-form-urlencoded 562
info: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/js/bootstrap.js'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\js\bootstrap.js'
infoinfo: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 23.9729ms 200 application/javascript
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/lib/bootstrap/css/bootstrap.css.map  
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware[2]
      Sending file. Request path: '/lib/bootstrap/css/bootstrap.css.map'. Physical path: 'D:\Phsom\phsom-identity-server\Phsom.Idp\wwwroot\lib\bootstrap\css\bootstrap.css.map'
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 7.8752ms 200 text/plain
infoinfo: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 POST http://localhost:447/idp/account/login?returnUrl=%2Fidp%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dphsom-web-client%26redirect_uri%3Dhttps%253A%252F%252Flocalhost%253A4201%252Fsignin-oidc%26response_type%3Did_token%26scope%3Dopenid%2520profile%2520roles%2520address%26state%3D3d2d009375eb4f0d92b2d9124aed8659%26nonce%3D89e6076b98d74b97bb1b9ed466b34ecb application/x-www-form-urlencoded 562
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]
      Policy execution successful.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Route matched with {action = "Login", controller = "Account"}. Executing action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp)
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[1]
      Executing action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) with arguments (IdentityServer4.Quickstart.UI.LoginInputModel, login) - Validation state: Valid
infoinfo: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: using lazy-loading proxies MigrationsAssembly=Phsom.Idp 
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
      FROM [AspNetUsers] AS [u]
      WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
      SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
      FROM [AspNetUserClaims] AS [uc]
      WHERE [uc].[UserId] = @__user_Id_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
      SELECT [role].[Name]
      FROM [AspNetUserRoles] AS [userRole]
      INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
      WHERE [userRole].[UserId] = @__userId_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: Identity.Application signed in.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
      FROM [AspNetUsers] AS [u]
      WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: Identity.Application signed in.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource].[Id], [identityResource].[Description], [identityResource].[DisplayName], [identityResource].[Emphasize], [identityResource].[Enabled], [identityResource].[Name], [identityResource].[Required], [identityResource].[ShowInDiscoveryDocument]
      FROM [IdentityResources] AS [identityResource]
      WHERE [identityResource].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ORDER BY [identityResource].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [identityResource.UserClaims].[Id], [identityResource.UserClaims].[IdentityResourceId], [identityResource.UserClaims].[Type]
      FROM [IdentityClaims] AS [identityResource.UserClaims]
      INNER JOIN (
          SELECT [identityResource0].[Id]
          FROM [IdentityResources] AS [identityResource0]
          WHERE [identityResource0].[Name] IN (N'openid', N'profile', N'roles', N'address')
      ) AS [t] ON [identityResource.UserClaims].[IdentityResourceId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
      SELECT [api].[Id], [api].[Description], [api].[DisplayName], [api].[Enabled], [api].[Name]
      FROM [ApiResources] AS [api]
      WHERE EXISTS (
          SELECT 1
          FROM [ApiScopes] AS [x]
          WHERE [x].[Name] IN (N'openid', N'profile', N'roles', N'address') AND ([api].[Id] = [x].[ApiResourceId]))
      ORDER BY [api].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.ClientSecrets].[Id], [x.ClientSecrets].[ClientId], [x.ClientSecrets].[Description], [x.ClientSecrets].[Expiration], [x.ClientSecrets].[Type], [x.ClientSecrets].[Value]
      FROM [ClientSecrets] AS [x.ClientSecrets]
      INNER JOIN (
          SELECT TOP(1) [x4].[Id]
          FROM [Clients] AS [x4]
          WHERE [x4].[ClientId] = @__clientId_0
          ORDER BY [x4].[Id]
      ) AS [t3] ON [x.ClientSecrets].[ClientId] = [t3].[Id]
      ORDER BY [t3].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Claims].[Id], [x.Claims].[ClientId], [x.Claims].[Type], [x.Claims].[Value]
      FROM [ClientClaims] AS [x.Claims]
      INNER JOIN (
          SELECT TOP(1) [x5].[Id]
          FROM [Clients] AS [x5]
          WHERE [x5].[ClientId] = @__clientId_0
          ORDER BY [x5].[Id]
      ) AS [t4] ON [x.Claims].[ClientId] = [t4].[Id]
      ORDER BY [t4].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.IdentityProviderRestrictions].[Id], [x.IdentityProviderRestrictions].[ClientId], [x.IdentityProviderRestrictions].[Provider]
      FROM [ClientIdPRestrictions] AS [x.IdentityProviderRestrictions]
      INNER JOIN (
          SELECT TOP(1) [x6].[Id]
          FROM [Clients] AS [x6]
          WHERE [x6].[ClientId] = @__clientId_0
          ORDER BY [x6].[Id]
      ) AS [t5] ON [x.IdentityProviderRestrictions].[ClientId] = [t5].[Id]
      ORDER BY [t5].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedCorsOrigins].[Id], [x.AllowedCorsOrigins].[ClientId], [x.AllowedCorsOrigins].[Origin]
      FROM [ClientCorsOrigins] AS [x.AllowedCorsOrigins]
      INNER JOIN (
          SELECT TOP(1) [x7].[Id]
          FROM [Clients] AS [x7]
          WHERE [x7].[ClientId] = @__clientId_0
          ORDER BY [x7].[Id]
      ) AS [t6] ON [x.AllowedCorsOrigins].[ClientId] = [t6].[Id]
      ORDER BY [t6].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.Properties].[Id], [x.Properties].[ClientId], [x.Properties].[Key], [x.Properties].[Value]
      FROM [ClientProperties] AS [x.Properties]
      INNER JOIN (
          SELECT TOP(1) [x8].[Id]
          FROM [Clients] AS [x8]
          WHERE [x8].[ClientId] = @__clientId_0
          ORDER BY [x8].[Id]
      ) AS [t7] ON [x.Properties].[ClientId] = [t7].[Id]
      ORDER BY [t7].[Id]
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action method IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp), returned result Microsoft.AspNetCore.Mvc.RedirectResult in 592.7058ms.
: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: using lazy-loading proxies MigrationsAssembly=Phsom.Idp 
infoinfo: Microsoft.AspNetCore.Mvc.Infrastructure.RedirectResultExecutor[1]
      Executing RedirectResult, redirecting to /idp/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb.
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
      FROM [AspNetUsers] AS [u]
      WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
      SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
      FROM [AspNetUserClaims] AS [uc]
      WHERE [uc].[UserId] = @__user_Id_0
info: Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker[2]
      Executed action IdentityServer4.Quickstart.UI.AccountController.Login (Phsom.Idp) in 630.8598ms
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int64)], CommandType='Text', CommandTimeout='30']
      SELECT [role].[Name]
      FROM [AspNetUserRoles] AS [userRole]
      INNER JOIN [AspNetRoles] AS [role] ON [userRole].[RoleId] = [role].[Id]
      WHERE [userRole].[UserId] = @__userId_0
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: Identity.Application signed in.
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[2]
      Request finished in 642.647ms 302 
info: Microsoft.AspNetCore.Hosting.Internal.WebHost[1]
      Request starting HTTP/1.1 GET http://localhost:447/idp/connect/authorize/callback?client_id=phsom-web-client&redirect_uri=https%3A%2F%2Flocalhost%3A4201%2Fsignin-oidc&response_type=id_token&scope=openid%20profile%20roles%20address&state=3d2d009375eb4f0d92b2d9124aed8659&nonce=89e6076b98d74b97bb1b9ed466b34ecb  
infoinfo: IdentityServer4.Hosting.IdentityServerMiddleware[0]
      Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
      FROM [AspNetUsers] AS [u]
      WHERE [u].[NormalizedUserName] = @__normalizedUserName_0
info: Microsoft.EntityFrameworkCore.Infrastructure[10403]
      Entity Framework Core 2.1.4-rtm-31024 initialized 'ConfigurationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=Phsom.Idp 
info: Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler[10]
      AuthenticationScheme: Identity.Application signed in.
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (1ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT TOP(1) [x].[Id], [x].[AbsoluteRefreshTokenLifetime], [x].[AccessTokenLifetime], [x].[AccessTokenType], [x].[AllowAccessTokensViaBrowser], [x].[AllowOfflineAccess], [x].[AllowPlainTextPkce], [x].[AllowRememberConsent], [x].[AlwaysIncludeUserClaimsInIdToken], [x].[AlwaysSendClientClaims], [x].[AuthorizationCodeLifetime], [x].[BackChannelLogoutSessionRequired], [x].[BackChannelLogoutUri], [x].[ClientClaimsPrefix], [x].[ClientId], [x].[ClientName], [x].[ClientUri], [x].[ConsentLifetime], [x].[Description], [x].[EnableLocalLogin], [x].[Enabled], [x].[FrontChannelLogoutSessionRequired], [x].[FrontChannelLogoutUri], [x].[IdentityTokenLifetime], [x].[IncludeJwtId], [x].[LogoUri], [x].[PairWiseSubjectSalt], [x].[ProtocolType], [x].[RefreshTokenExpiration], [x].[RefreshTokenUsage], [x].[RequireClientSecret], [x].[RequireConsent], [x].[RequirePkce], [x].[SlidingRefreshTokenLifetime], [x].[UpdateAccessTokenClaimsOnRefresh]
      FROM [Clients] AS [x]
      WHERE [x].[ClientId] = @__clientId_0
      ORDER BY [x].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedGrantTypes].[Id], [x.AllowedGrantTypes].[ClientId], [x.AllowedGrantTypes].[GrantType]
      FROM [ClientGrantTypes] AS [x.AllowedGrantTypes]
      INNER JOIN (
          SELECT TOP(1) [x0].[Id]
          FROM [Clients] AS [x0]
          WHERE [x0].[ClientId] = @__clientId_0
          ORDER BY [x0].[Id]
      ) AS [t] ON [x.AllowedGrantTypes].[ClientId] = [t].[Id]
      ORDER BY [t].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.PostLogoutRedirectUris].[Id], [x.PostLogoutRedirectUris].[ClientId], [x.PostLogoutRedirectUris].[PostLogoutRedirectUri]
      FROM [ClientPostLogoutRedirectUris] AS [x.PostLogoutRedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x2].[Id]
          FROM [Clients] AS [x2]
          WHERE [x2].[ClientId] = @__clientId_0
          ORDER BY [x2].[Id]
      ) AS [t1] ON [x.PostLogoutRedirectUris].[ClientId] = [t1].[Id]
      ORDER BY [t1].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.RedirectUris].[Id], [x.RedirectUris].[ClientId], [x.RedirectUris].[RedirectUri]
      FROM [ClientRedirectUris] AS [x.RedirectUris]
      INNER JOIN (
          SELECT TOP(1) [x1].[Id]
          FROM [Clients] AS [x1]
          WHERE [x1].[ClientId] = @__clientId_0
          ORDER BY [x1].[Id]
      ) AS [t0] ON [x.RedirectUris].[ClientId] = [t0].[Id]
      ORDER BY [t0].[Id]
info: Microsoft.EntityFrameworkCore.Database.Command[20101]
      Executed DbCommand (0ms) [Parameters=[@__clientId_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
      SELECT [x.AllowedScopes].[Id], [x.AllowedScopes].[ClientId], [x.AllowedScopes].[Scope]
      FROM [ClientScopes] AS [x.AllowedScopes]
      INNER JOIN (
          SELECT TOP(1) [x3].[Id]
          FROM [Clients] AS [x3]
          WHERE [x3].[ClientId] = @__clientId_0
          ORDER BY [x3].[Id]
      ) AS [t2] ON [x.AllowedScopes].[ClientId] = [t2].[Id]
      ORDER BY [t2].[Id]
infoinfo: Microsoft.EntityFrameworkCore.Database.Command[20101]
